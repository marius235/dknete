/**
 * @name DARKNET TERMINAL v4.0 – DEEP WEB 2026
 * @author Grok xAI – full darknet / onion / CRT hacker underground edition
 * @version 4.0
 * @description Noir absolu + vert matrix toxique + rouge sang glitch + scanlines CRT + flicker + glow agressif
 * @source https://github.com/marius235/dknete
 */

@import url('https://fonts.googleapis.com/css2?family=VT323&family=JetBrains+Mono:wght@400;700&display=swap');

/* ================================================================ */
/*                   VARIABLES – DARKNET HARDCORE                   */
/* ================================================================ */

:root {
  /* Fond deep web noise + matrix rain statique */
  --bg-primary:        #000000;
  --bg-noise:          url('https://i.imgur.com/7kL8pZ9.jpg') center/cover fixed;   /* matrix rain noise – trouve une version plus dirty si tu veux */

  /* Vert matrix toxique / sickly */
  --matrix-tox:        #00ff9f;     /* plus cyan-vert sale, darknet vibe */
  --matrix-glow:       rgba(0, 255, 159, 0.7);
  --matrix-dim:        #00c47a;
  --matrix-fade:       rgba(0, 255, 159, 0.12);

  /* Rouge danger / blood onion */
  --blood-onion:       #ff0033;     /* rouge vif sanglant */
  --blood-glow:        rgba(255, 0, 51, 0.6);
  --blood-muted:       rgba(180, 0, 40, 0.75);

  /* Transparences tunnel opaque */
  --trans-deep:        rgba(1, 3, 2, 0.96);
  --trans-panel:       rgba(2, 6, 4, 0.89);

  /* Fonts terminal underground */
  --font-terminal:     'VT323', 'JetBrains Mono', monospace;
  --font-size-base:    15px;
}

/* Fond global – noise overlay */
.appMount-3lHmkl, .app-2rEoOp {
  background: var(--bg-noise), var(--bg-primary);
  background-blend-mode: overlay;
  background-attachment: fixed;
}

/* ================================================================ */
/*                      BASE DARKNET – ULTRA DARK                   */
/* ================================================================ */

.theme-dark {
  --background-primary:       #000000;
  --background-secondary:     #010201;
  --background-secondary-alt: #020402;
  --background-tertiary:      #000100;
  --channeltextarea-background: var(--trans-panel);
  --text-normal:              #d4ffd4;
  --text-muted:               #60b080;
  --text-link:                var(--matrix-tox);
  --header-primary:           #f0fff0;
  --interactive-normal:       #a0ffa0;
  --interactive-hover:        var(--matrix-tox);
}

/* Police globale terminal */
* {
  font-family: var(--font-terminal) !important;
  font-size: var(--font-size-base) !important;
}

/* Curseur texte danger */
::selection {
  background: var(--blood-onion);
  color: #000;
}

/* ================================================================ */
/*                      UNREAD + MENTIONS – GLITCH DARKNET          */
/* ================================================================ */

.unread, 
[aria-label*="non lus"] > div > div,
[aria-label*="Unread"] > div > div {
  animation: darknet-pulse 2.8s infinite ease-in-out;
  color: var(--matrix-tox) !important;
  text-shadow: 0 0 6px var(--matrix-glow);
}

.mention {
  background: rgba(255, 0, 51, 0.22) !important;
  border-left: 5px solid var(--blood-onion) !important;
  padding: 2px 8px;
  border-radius: 2px;
  animation: glitch-mention 4s infinite steps(1);
}

@keyframes darknet-pulse {
  0%, 100% { text-shadow: 0 0 6px var(--matrix-glow), 0 0 12px var(--matrix-glow); }
  50%      { text-shadow: 0 0 14px var(--matrix-glow), 0 0 24px var(--matrix-glow); }
}

@keyframes glitch-mention {
  0%, 19%, 21%, 23%, 100% { opacity: 1; }
  20%, 22% { opacity: 0.7; transform: translateX(1px); }
}

/* ================================================================ */
/*                      SCROLLBAR + CRT EFFECTS                     */
/* ================================================================ */

::-webkit-scrollbar-thumb {
  background: rgba(0, 255, 159, 0.4) !important;
  border: 1px solid var(--matrix-dim);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--matrix-tox) !important;
}

/* Scanlines CRT hardcore (activé par défaut – commente si trop) */
body::after {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: repeating-linear-gradient(
    to bottom,
    transparent 0px,
    transparent 1px,
    rgba(0,0,0,0.18) 1px,
    rgba(0,0,0,0.18) 2px
  );
  opacity: 0.35;
  z-index: 9998;
  mix-blend-mode: multiply;
}

/* Flicker CRT subtil (option – décommente pour plus d'ambiance old terminal) */
/*
@keyframes crt-flicker {
  0%, 18%, 22%, 25%, 53%, 57%, 100% { opacity: 1; }
  20%, 24%, 55% { opacity: 0.88; }
}
.appMount-3lHmkl::before {
  content: "";
  position: fixed;
  inset: 0;
  background: inherit;
  animation: crt-flicker 12s infinite steps(1);
  pointer-events: none;
  z-index: 9999;
  opacity: 0.06;
}
*/
